<!-- views/pages/IDE.ejs -->

<!DOCTYPE html>
<html lang="en">

<head>
    <% include ../partials/head %>
    <link rel="stylesheet" href="/stylesheets/IDEstyle.css">
    <script type = "text/javascript" src="/scripts/aceJS/ace.js"></script>
</head>

<body class="container" onbeforeunload="check()">

    <header>
        <% include ../partials/header %>
    </header>

    <main>
        <div class="row">
            <div class="col-sm-8">
                    <div id="optionPanel">
                        <table>
                            <tr>
                                <td>
                                    <label>fontsize:</label>
                                    <select id="fontsize" size="1" onchange="changeSize(this)">
                                        <option value="11px">11px</option>
                                        <option value="12px" selected="selected">12px</option>
                                        <option value="13px">13px</option>
                                        <option value="14px">14px</option>
                                    </select>
                                </td>
                                <td>
                                    <label>language:</label>
                                    <select id="language" size="1" onchange="changeLanguage(this)">
                                        <option value="C/C++" selected = "selected">C/C++</option>
                                        <option value="pascal">pascal</option>
                                        <option value="Qbasic">Qbasic</option>
                                    </select>
                                </td>
                                <td>
                                    <input type="submit" value="RUN">
                                </td>
                                <td>
                                    <input type="submit" value="DEBUG">
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div id="editor">
                    </div>
                    <div id="inputEditor"><p>hello,this is a test</p>
                    </div>
                    <div id="outputEditor">
                    </div>
            </div>

            <div class="col-sm-4">
                <div class="well">
                    <h3>Look I'm A Sidebar!</h3>
                    <%= result%>
                </div>
            </div>

        </div>
    </main>

    <footer>
        <% include ../partials/footer %>
    </footer>
    
</body>


<script>
    function changeSize(item){
        var editor = document.getElementById('editor');
        editor.style.fontSize = item.value;
    }

    function changeLanguage(item){
        var editor = ace.edit("editor");
        if(item.value == "C/C++"){
            editor.getSession().setMode("ace/mode/c_cpp");
        }else if(item.value == "pascal"){
            editor.getSession().setMode("ace/mode/pascal");
        }else {
            editor.getSession().setMode("ace/mode/qbasic");
        }
    }

    function check(){
        document.getElementById("fontsize").value="12px";
        document.getElementById("language").value="C/C++";
    }

    function sendData(){

    }
</script>

<script>
    var inputEditor = ace.edit("inputEditor");
    var outputEditor = ace.edit("outputEditor");
    var editor = ace.edit("editor");

    inputEditor.setTheme("ace/theme/twilight");
    outputEditor.setTheme("ace/theme/twilight");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/c_cpp");
</script>

</html>